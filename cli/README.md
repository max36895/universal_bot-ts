# CLI —É—Ç–∏–ª–∏—Ç–∞ umbot

## –û–ø–∏—Å–∞–Ω–∏–µ

CLI —É—Ç–∏–ª–∏—Ç–∞ umbot –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –Ω–∞ –±–∞–∑–µ umbot. –£—Ç–∏–ª–∏—Ç–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç:

- –°–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –ø–æ —à–∞–±–ª–æ–Ω–∞–º
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø—Ä–æ–µ–∫—Ç–∞
- –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

```bash
npx umbot <–∫–æ–º–∞–Ω–¥–∞> [–ø–∞—Ä–∞–º–µ—Ç—Ä—ã]
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞       | –û–ø–∏—Å–∞–Ω–∏–µ                | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã                                 |
|---------------|-------------------------|-------------------------------------------|
| `create`      | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ | `<project-name>` –∏–ª–∏ `<config-file.json>` |
| `generateEnv` | –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª .env | -                                         |

### –§–ª–∞–≥–∏

| –§–ª–∞–≥        | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                                                                                           |
|-------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `--minimal` | –°–æ–∑–¥–∞—ë—Ç **–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ–µ–∫—Ç** (1 —Ñ–∞–π–ª, –±–µ–∑ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –∏ –∫–æ–Ω—Ñ–∏–≥–æ–≤). –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ –∏–ª–∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏. **–†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å —Ç–∏–ø–æ–º `default`**. |
| `--prod`    | –°–æ–∑–¥–∞—ë—Ç production-–≥–æ—Ç–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç —Å `Dockerfile`, `.github/workflows/deploy.yml`, `.env`.                                                                          |

> üí° **–í–∞–∂–Ω–æ**: —Ñ–ª–∞–≥ `--minimal` **–Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ —Ç–∏–ø—É `quiz`**, —Ç–∞–∫ –∫–∞–∫ –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞ —Ç—Ä–µ–±—É–µ—Ç —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è
> —Å–æ—Å—Ç–æ—è–Ω–∏—è. –î–ª—è `quiz` –≤—Å–µ–≥–¥–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞.

### –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

#### –ü—Ä–æ—Å—Ç–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ

```bash
umbot create my-bot-project
```

#### –°–æ–∑–¥–∞–Ω–∏–µ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

```bash
umbot create config.json
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

```typescript
interface ProjectConfig {
    // –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ)
    name: string;

    // –¢–∏–ø –ø—Ä–æ–µ–∫—Ç–∞: "default" –∏–ª–∏ "quiz"
    type?: 'default' | 'quiz';

    // –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã: "prod", "dev", "dev-online", "build"
    mode?: 'prod' | 'dev' | 'dev-online' | 'build';

    // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    config?: DatabaseConfig[];

    // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    params?: AppParams[];

    // –ü—É—Ç—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞
    path?: string;

    // –ò–º—è —Ö–æ—Å—Ç–∞ –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é localhost
    hostname?: string;
    // –ü–æ—Ä—Ç –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 3000
    port?: string;
    // –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å .env —Ñ–∞–π–ª –∏–ª–∏ –Ω–µ—Ç
    isEnv?: boolean;
}
```

### –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

```json
{
  "name": "my-quiz-bot",
  "type": "quiz",
  "mode": "dev",
  "path": "./bots/quiz",
  "params": {
    "viber_token": "token"
  },
  "config": {
    "json": "./data",
    "error_log": "./logs",
    "isLocalStorage": true,
    "db": {
      "host": "",
      "user": "",
      "pass": "",
      "database": ""
    }
  },
  "isEnv": true
}
```

### –¢–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–æ–≤

| –¢–∏–ø       | –û–ø–∏—Å–∞–Ω–∏–µ         | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏                             |
|-----------|------------------|-----------------------------------------|
| `default` | –ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω   | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞           |
| `quiz`    | –®–∞–±–ª–æ–Ω –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã | –ì–æ—Ç–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–∏–∫—Ç–æ—Ä–∏–Ω |

### –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

| –†–µ–∂–∏–º        | –û–ø–∏—Å–∞–Ω–∏–µ                              |
|--------------|---------------------------------------|
| `prod`       | –ü—Ä–æ–¥–∞–∫—à–Ω —Ä–µ–∂–∏–º                        |
| `dev`        | –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏                      |
| `dev-online` | –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å –æ–Ω–ª–∞–π–Ω –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º |
| `build`      | –†–µ–∂–∏–º —Å–±–æ—Ä–∫–∏                          |

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–≥–æ –±–æ—Ç–∞

```bash
umbot create simple-bot
```

### –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã

```json
{
  "name": "quiz-bot",
  "type": "quiz",
  "mode": "dev",
  "config": {
    "json": "./data",
    "error_log": "./logs",
    "isLocalStorage": true
  }
}
```

```bash
umbot create quiz-config.json
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤**:
    - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞
    - –ò–∑–±–µ–≥–∞–π—Ç–µ –ø—Ä–æ–±–µ–ª–æ–≤ –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
    - –ü—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ—Å—å kebab-case

2. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**:
    - –•—Ä–∞–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
    - –ù–µ –≤–∫–ª—é—á–∞–π—Ç–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
    - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π

3. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞**:
    - –°–ª–µ–¥—É–π—Ç–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ
    - –†–∞–∑–º–µ—â–∞–π—Ç–µ —Ñ–∞–π–ª—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö
    - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
